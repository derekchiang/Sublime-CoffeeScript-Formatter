<!DOCTYPE html>

<html>
<head>
  <title>test.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <h1>test.coffee</h1>
        

        
      </div>

      
        
        <p>The test suite should be run with Mocha.</p>
<p>To install Mocha:</p>
<pre><code>sudo npm install mocha -g</code></pre>
<p>Then run <code>mocha</code> in the base directory.</p>

        
          <div class='highlight'><pre>formatter = require '../formatter'
assert = require 'assert'

describe 'formatter', -&gt;
describe '#shortenSpaces()', -&gt;
  it 'should shorten all consecutive spaces into one', -&gt;
    originalLine = 'hello   derek how is  it going?'
    formattedLine = formatter.shortenSpaces originalLine
    assert.strictEqual 'hello derek how is it going?', 
      formattedLine

  it 'should work with strings', -&gt;
    originalLine = 'for c, i in "Hello  World!"'
    formattedLine = formatter.shortenSpaces originalLine
    assert.strictEqual originalLine, 
      formattedLine

  it 'should not shorten indentations', -&gt;
    originalLine = '    for c, i  in "Hello  World"'
    formattedLine = formatter.shortenSpaces originalLine
    assert.strictEqual '    for c, i in "Hello  World"', 
      formattedLine

describe '#formatTwoSpaceOperator()', -&gt;
  it 'should make it so that there is only
    one space before and after a binary operator', -&gt;
    originalLine = 'k = 1+1-  2&gt;=3&lt;=  4&gt;5   &lt;6'
    formattedLine = formatter.formatTwoSpaceOperator originalLine
    assert.strictEqual 'k = 1 + 1 - 2 &gt;= 3 &lt;= 4 &gt; 5 &lt; 6', 
      formattedLine

describe '#formatOneSpaceOperator()', -&gt;
  it 'should make it so that there is only
    one space after certain operators', -&gt;
    originalLine = 'k = (a,b)-&gt; if b?  return a'
    formattedLine = formatter.formatOneSpaceOperator originalLine
    assert.strictEqual 'k = (a, b) -&gt; if b? return a', 
      formattedLine

describe '#notInStringOrComment()', -&gt;
  it 'should detect if a char is in a string', -&gt;
    originalLine = 'for c, i in "Hello World"'
    inStringIndex = originalLine.indexOf('Hello')</pre></div>
        
      
        
        <p>console.log inStringIndex</p>

        
          <div class='highlight'><pre>    assert.strictEqual (formatter.notInStringOrComment inStringIndex, originalLine) , 
      <span class="literal">false</span></pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
